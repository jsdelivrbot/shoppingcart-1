import { Injectable }             from '@angular/core';
import { Router, Resolve, RouterStateSnapshot, ActivatedRouteSnapshot } from '@angular/router';
import { {{pascalCase modelname}}, {{pascalCase servicename}}Service } from './{{camelCase servicename}}.service';
@Injectable()
export class {{pascalCase servicename}}Resolver implements Resolve<{{pascalCase modelname}}> {
  constructor(private {{camelCase servicename}}Service: {{pascalCase servicename}}Service, private router: Router) {}
  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Promise<{{pascalCase modelname}}> {
    //let id = route.params['id'];
    return this.{{camelCase servicename}}Service.get().then({{camelCase modelname}} => {
      if ({{camelCase modelname}}) {
        return {{camelCase modelname}};
      } else { // id not found
        //this.router.navigate(['/crisis-center']);
        console.log('Encountered Error in resolver')
        return null;
      }
    });
  }
}